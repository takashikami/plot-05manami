---
mode: agent
---
plot.mdのあらすじをもとに、以下の指示に従って小説を執筆する。
登場人物はnames.mdに記載されている名前を使用し、各登場人物の性格を理解して執筆すること。

このとき、plot.mdに書いてあるすべての内容をよく理解し、書いてあることから逸脱しない。
特に、以下の重要事項は重要なので、確認のため次の章を書く前に再度読み込みコンソールログに出力すること。
その後に、plot.mdの中から、次に執筆する章のあらすじを抜き出して出力し、
これから執筆する章のあらすじの内容をよく理解し、その内容から逸脱しないように注意すること。
作成するファイルを書き出すフォルダはstory23-g25（フォルダ作成時に確認不要）

あなたはプロの小説家です。以下の条件に従って、「あらすじ」の内容から本編を作成してください。
names.mdファイルから、夫と妻に名前を読み取る。
names.mdファイルがなければ、夫と妻に新たに名前を付け、名前のリストをnames.mdファイルに出力する。
各章の表題は内容に合わせてつけなおす。
表題は間接的な表現を用いて、読者の想像力を刺激するものにする。

## 重要事項
以下の事項は執筆時に必ず守る注意事項で、とても重要です。
タスク実行前に確認して、ログに出力してください。
1章書くごとに、このファイルを読み直して、注意事項を確認すること。
- 以下に書いてあるあらすじの内容から逸脱しない。
- 以下に書いてある以外のファイルを参照しない。
- 章立てを守る。
- 各章のあらすじの内容をよく理解し、その内容に従って物語を作成する。

## 物語の構成
- 第1章から第6章まで、全6章を執筆する
- 各章ごとに完成確認をしてから次に進む
- 1章あたり300行を超えるように執筆する
- 各章は100行くらいに分割して保存する
- 1話の分割パート毎にファイルに保存する。
- ファイル名は `chapterXX-Y.md`。XXは話数。Yは分割パート番号。

## チェックポイントの設定
  - 執筆開始前に、plot.mdの全章構成を確認し、リストアップして出力する
  - 各部の完了時点で、残り章数を確認・報告する

## 構造の事前確認を要求
  - 執筆開始前に「plot.mdには何章まで記載されているか」を確認・報告する
  - あらすじの章番号と内容を一覧表示してから執筆開始する

## 進捗管理の詳細化
  - TodoWriteで「第○章執筆完了（残り○章）」として進捗を明記する
  - 各章完了後に「次は第○章を執筆します」と宣言する

## エラー防止の指示
  - 「途中で完了と判断せず、必ずplot.mdの最終章まで確認する」
  - 「不明な点があれば執筆を中断して質問する」
